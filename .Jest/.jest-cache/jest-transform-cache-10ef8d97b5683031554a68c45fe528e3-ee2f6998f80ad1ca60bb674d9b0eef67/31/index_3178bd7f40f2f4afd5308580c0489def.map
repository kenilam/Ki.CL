{"version":3,"sources":["index.tsx"],"names":["RANDOM_TEXT","TICKER_LETTER_RANGE","Text","style","text","tick","zoom","alpha","height","width","x","y","styles","xGutter","yGutter","content","PIXI","ticker","scale","removeChildren","addChild","complete","Array","from","length","map","value","index","test","end","join","Container"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;AAGA,IAAMA,WAAW,GAAG,8BAApB;AACA,IAAMC,mBAA2B,GAAG,cAApC;;IAEMC,I;;;;;AAOJ,sBAAkE;AAAA;;AAAA,QAArDC,KAAqD,QAArDA,KAAqD;AAAA,QAA9CC,IAA8C,QAA9CA,IAA8C;AAAA,yBAAxCC,IAAwC;AAAA,QAAxCA,IAAwC,0BAAjC,IAAiC;AAAA,yBAA3BC,IAA2B;AAAA,QAA3BA,IAA2B,0BAApB,IAAoB;AAAA;AAChE;AAEA,UAAKC,KAAL,GAAa,CAAb;AACA,UAAKJ,KAAL,GAAaA,KAAb;AACA,UAAKC,IAAL,GAAYA,IAAZ;AACA,UAAKC,IAAL,GAAYA,IAAZ;AACA,UAAKC,IAAL,GAAYA,IAAZ;AAPgE;AAQjE;;;;6BAUC;AAAA,sFADuB,EACvB;AAAA,8BANEC,KAMF;AAAA,UANEA,KAMF,4BANU,CAMV;AAAA,+BALEC,MAKF;AAAA,UALEA,MAKF,6BALW,CAKX;AAAA,8BAJEC,KAIF;AAAA,UAJEA,KAIF,4BAJU,CAIV;AAAA,0BAHEC,CAGF;AAAA,UAHEA,CAGF,wBAHM,CAGN;AAAA,0BAFEC,CAEF;AAAA,UAFEA,CAEF,wBAFM,CAEN;;AACA,UAAMC,MAAM,GAAG,2BAAa,KAAKT,KAAlB,CAAf;AADA,UAGOU,OAHP,GAG2BD,MAH3B,CAGOC,OAHP;AAAA,UAGgBC,OAHhB,GAG2BF,MAH3B,CAGgBE,OAHhB;AAKA,WAAKP,KAAL,GAAaA,KAAb;AAEA,WAAKQ,OAAL,GAAe,IAAIC,YAAKd,IAAT,CACb,KAAKG,IAAL,GACI,KAAKY,MAAL,CAAYV,KAAK,IAAI,CAArB,CADJ,GAEI,KAAKH,IAHI,EAIbQ,MAJa,CAAf;;AAOA,UAAI,KAAKN,IAAT,EAAe;AACb,aAAKY,KAAL,CAAWR,CAAX,GAAe,IAAIH,KAAnB;AACA,aAAKW,KAAL,CAAWP,CAAX,GAAe,IAAIJ,KAAnB;AACD;;AAED,WAAKG,CAAL,GAASA,CAAC,GAAGD,KAAK,GAAG,CAAZ,GAAgB,KAAKA,KAAL,GAAa,CAA7B,IAAkCI,OAAO,GAAGA,OAAH,GAAa,CAAtD,CAAT;AACA,WAAKF,CAAL,GAASA,CAAC,GAAGH,MAAM,GAAG,CAAb,GAAiB,KAAKA,MAAL,GAAc,CAA/B,IAAoCM,OAAO,GAAGA,OAAH,GAAa,CAAxD,CAAT;AAEA,WAAKK,cAAL,CAAoB,CAApB;AACA,WAAKC,QAAL,CAAc,KAAKL,OAAnB;AACD;;;2BAEcM,Q,EAA2B;AAAA;;AACxC,aAAOC,KAAK,CAACC,IAAN,CAAW,IAAID,KAAJ,CAAU,KAAKlB,IAAL,CAAUoB,MAApB,CAAX,EAAwCC,GAAxC,CACL,UAACC,KAAD,EAAQC,KAAR;AAAA,eACE,CAACD,KAAD,IAAUL,QAAV,IAAsB,CAACpB,mBAAmB,CAAC2B,IAApB,CAAyB,MAAI,CAACxB,IAAL,CAAUuB,KAAV,CAAzB,CAAvB,GACI,MAAI,CAACvB,IAAL,CAAUuB,KAAV,CADJ,GAEI3B,WAAW,CAAC,0BAAa;AAAC6B,UAAAA,GAAG,EAAE7B,WAAW,CAACwB,MAAZ,GAAqB;AAA3B,SAAb,CAAD,CAHjB;AAAA,OADK,EAKLM,IALK,CAKA,EALA,CAAP;AAMD;;;;;;;;;;EA1DgBd,YAAKe,S;;eA6DT7B,I;;;;;;;;;;;;0BAhETF,W;0BACAC,mB;0BAEAC,I","sourcesContent":["import {PIXI} from '@/Component/WebGL';\nimport {CharacterRanges, RandomNumber} from '@/Helper';\nimport {CSSUnitGroup} from '@/Helper/CSSUnit';\nimport * as IText from './spec';\n\nconst RANDOM_TEXT = CharacterRanges();\nconst TICKER_LETTER_RANGE: RegExp = /[A-Za-z0-9]/g;\n\nclass Text extends PIXI.Container {\n  private content: PIXI.Text;\n  private readonly style: IText.Style;\n  private readonly text: IText.Text;\n  private readonly tick: IText.Tick;\n  private readonly zoom: IText.Zoom;\n  \n  constructor({style, text, tick = true, zoom = true}: IText.Props) {\n    super();\n    \n    this.alpha = 0;\n    this.style = style;\n    this.text = text;\n    this.tick = tick;\n    this.zoom = zoom;\n  }\n  \n  public update(\n    {\n      alpha = 0,\n      height = 0,\n      width = 0,\n      x = 0,\n      y = 0\n    }: IText.UpdateProps = {}\n  ) {\n    const styles = CSSUnitGroup(this.style);\n    \n    const {xGutter, yGutter} = styles;\n    \n    this.alpha = alpha;\n    \n    this.content = new PIXI.Text(\n      this.tick\n        ? this.ticker(alpha >= 1)\n        : this.text,\n      styles\n    );\n    \n    if (this.zoom) {\n      this.scale.x = 2 - alpha;\n      this.scale.y = 2 - alpha;\n    }\n    \n    this.x = x + width / 2 - this.width / 2 + (xGutter ? xGutter : 0);\n    this.y = y + height / 2 - this.height / 2 + (yGutter ? yGutter : 0);\n    \n    this.removeChildren(0);\n    this.addChild(this.content);\n  }\n  \n  private ticker(complete: boolean): string {\n    return Array.from(new Array(this.text.length)).map(\n      (value, index) =>\n        !value && complete || !TICKER_LETTER_RANGE.test(this.text[index])\n          ? this.text[index]\n          : RANDOM_TEXT[RandomNumber({end: RANDOM_TEXT.length - 1})]\n    ).join('');\n  }\n}\n\nexport default Text;\n"]}