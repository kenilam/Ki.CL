2c3cd80f20335604df3dce216a008f29
"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

require("core-js/modules/es.array.concat");

require("core-js/modules/es.object.define-property");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.promise");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _react = _interopRequireWildcard(require("react"));

(function () {
  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;
  enterModule && enterModule(module);
})();

var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal["default"].signature : function (a) {
  return a;
};

var AudioPlayer = function AudioPlayer(_ref) {
  var url = _ref.url;

  var _useState = (0, _react.useState)(0),
      _useState2 = (0, _slicedToArray2["default"])(_useState, 1),
      index = _useState2[0];

  var _useState3 = (0, _react.useState)(),
      _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
      tracks = _useState4[0],
      updateTracks = _useState4[1];

  var controller = new AbortController();
  var signal = controller.signal;
  (0, _react.useEffect)(function () {
    if (tracks) {
      return;
    }

    window.fetch(url, {
      signal: signal
    }).then(function (response) {
      return response.json();
    }).then(function (tracks) {
      updateTracks(tracks);
    });
    return function () {
      controller.abort();
    };
  }, [tracks]);
  return _react["default"].createElement("video", {
    controls: false,
    autoPlay: true
  }, _react["default"].createElement("source", {
    src: "".concat(process.env.API_URL).concat(tracks ? tracks[index].url : null),
    type: "audio/mpeg"
  }));
};

__signature__(AudioPlayer, "useState{[index]: IAudio.IndexState(0)}\nuseState{[tracks, updateTracks]: IAudio.TracksState}\nuseEffect{}");

var _default = AudioPlayer;
var _default2 = _default;
exports["default"] = _default2;
;

(function () {
  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;

  if (!reactHotLoader) {
    return;
  }

  reactHotLoader.register(AudioPlayer, "AudioPlayer", "/Users/keni.lam/Prototype/Ki.CL/project/src/Component/AudioPlayer/index.tsx");
  reactHotLoader.register(_default, "default", "/Users/keni.lam/Prototype/Ki.CL/project/src/Component/AudioPlayer/index.tsx");
})();

;

(function () {
  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;
  leaveModule && leaveModule(module);
})();

module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzeCJdLCJuYW1lcyI6WyJBdWRpb1BsYXllciIsInVybCIsImluZGV4IiwidHJhY2tzIiwidXBkYXRlVHJhY2tzIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsIndpbmRvdyIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImFib3J0IiwicHJvY2VzcyIsImVudiIsIkFQSV9VUkwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7OztBQUdBLElBQU1BLFdBQVcsR0FBRyxTQUFkQSxXQUFjLE9BQXlCO0FBQUEsTUFBdkJDLEdBQXVCLFFBQXZCQSxHQUF1Qjs7QUFBQSxrQkFDUixxQkFBUyxDQUFULENBRFE7QUFBQTtBQUFBLE1BQ3BDQyxLQURvQzs7QUFBQSxtQkFFUSxzQkFGUjtBQUFBO0FBQUEsTUFFcENDLE1BRm9DO0FBQUEsTUFFNUJDLFlBRjRCOztBQUkzQyxNQUFNQyxVQUFVLEdBQUcsSUFBSUMsZUFBSixFQUFuQjtBQUoyQyxNQUtwQ0MsTUFMb0MsR0FLMUJGLFVBTDBCLENBS3BDRSxNQUxvQztBQU8zQyx3QkFDRSxZQUFNO0FBQ0osUUFBSUosTUFBSixFQUFZO0FBQ1Y7QUFDRDs7QUFFREssSUFBQUEsTUFBTSxDQUFDQyxLQUFQLENBQWFSLEdBQWIsRUFBa0I7QUFBQ00sTUFBQUEsTUFBTSxFQUFOQTtBQUFELEtBQWxCLEVBQ0NHLElBREQsQ0FFRSxVQUFBQyxRQUFRO0FBQUEsYUFBSUEsUUFBUSxDQUFDQyxJQUFULEVBQUo7QUFBQSxLQUZWLEVBSUNGLElBSkQsQ0FLRSxVQUFBUCxNQUFNLEVBQUk7QUFDUkMsTUFBQUEsWUFBWSxDQUFDRCxNQUFELENBQVo7QUFDRCxLQVBIO0FBVUEsV0FBTyxZQUFNO0FBQ1hFLE1BQUFBLFVBQVUsQ0FBQ1EsS0FBWDtBQUNELEtBRkQ7QUFHRCxHQW5CSCxFQW9CRSxDQUFDVixNQUFELENBcEJGO0FBdUJBLFNBQ0U7QUFBTyxJQUFBLFFBQVEsRUFBRSxLQUFqQjtBQUF3QixJQUFBLFFBQVEsRUFBRTtBQUFsQyxLQUNFO0FBQVEsSUFBQSxHQUFHLFlBQUtXLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxPQUFqQixTQUEyQmIsTUFBTSxHQUFHQSxNQUFNLENBQUNELEtBQUQsQ0FBTixDQUFjRCxHQUFqQixHQUF1QixJQUF4RCxDQUFYO0FBQTJFLElBQUEsSUFBSSxFQUFDO0FBQWhGLElBREYsQ0FERjtBQUtELENBbkNEOztjQUFNRCxXOztlQXFDU0EsVzs7Ozs7Ozs7Ozs7OzBCQXJDVEEsVyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge0RlcGVuZGVuY3lMaXN0LCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBJQXVkaW8gZnJvbSAnLi9zcGVjJztcblxuY29uc3QgQXVkaW9QbGF5ZXIgPSAoe3VybH06IElBdWRpby5Qcm9wcykgPT4ge1xuICBjb25zdCBbaW5kZXhdOiBJQXVkaW8uSW5kZXhTdGF0ZSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbdHJhY2tzLCB1cGRhdGVUcmFja3NdOiBJQXVkaW8uVHJhY2tzU3RhdGUgPSB1c2VTdGF0ZSgpO1xuICBcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgY29uc3Qge3NpZ25hbH0gPSBjb250cm9sbGVyO1xuICBcbiAgdXNlRWZmZWN0KFxuICAgICgpID0+IHtcbiAgICAgIGlmICh0cmFja3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICB3aW5kb3cuZmV0Y2godXJsLCB7c2lnbmFsfSlcbiAgICAgIC50aGVuKFxuICAgICAgICByZXNwb25zZSA9PiByZXNwb25zZS5qc29uKClcbiAgICAgIClcbiAgICAgIC50aGVuKFxuICAgICAgICB0cmFja3MgPT4ge1xuICAgICAgICAgIHVwZGF0ZVRyYWNrcyh0cmFja3MpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9O1xuICAgIH0sXG4gICAgW3RyYWNrc10gYXMgRGVwZW5kZW5jeUxpc3RcbiAgKTtcbiAgXG4gIHJldHVybiAoXG4gICAgPHZpZGVvIGNvbnRyb2xzPXtmYWxzZX0gYXV0b1BsYXk9e3RydWV9PlxuICAgICAgPHNvdXJjZSBzcmM9e2Ake3Byb2Nlc3MuZW52LkFQSV9VUkx9JHt0cmFja3MgPyB0cmFja3NbaW5kZXhdLnVybCA6IG51bGx9YH0gdHlwZT0nYXVkaW8vbXBlZycgLz5cbiAgICA8L3ZpZGVvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXVkaW9QbGF5ZXI7XG4iXX0=