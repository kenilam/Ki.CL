{"version":3,"sources":["Circle.tsx"],"names":["SCALE_DURATION","MAX_DELAY","MAX_SCALE","MIN_SCALE","Circle","dimension","rgbNumber","PIXI","Graphics","graphic","name","beginFill","color","drawCircle","endFill","addChild","tween","Tween","isTweening","scale","start","end","delay","scaleTween","to","x","y","yoyo","repeat","kill","distance","height","rotation","width","clear","Container"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;AAGA,IAAMA,cAAc,GAAG,EAAvB;AACA,IAAMC,SAAS,GAAG,EAAlB;AACA,IAAMC,SAAS,GAAG,CAAlB;AACA,IAAMC,SAAS,GAAG,CAAlB;;IAEMC,M;;;;;AAMJ,wBAA+C;AAAA;;AAAA,QAAlCC,SAAkC,QAAlCA,SAAkC;AAAA;AAC7C;AAD6C;AAAA;AAAA;AAAA,aALf,2BAAcC,SAAd;AAKe;AAAA;AAAA;AAAA;AAAA,aAJ9B,IAAIC,YAAKC,QAAT;AAI8B;AAG7C,UAAKC,OAAL,CAAaC,IAAb,GAAoB,SAApB;;AAEA,UAAKD,OAAL,CAAaE,SAAb,CAAuB,MAAKC,KAA5B;;AACA,UAAKH,OAAL,CAAaI,UAAb,CAAwB,CAAxB,EAA2B,CAA3B,EAA8BR,SAA9B;;AACA,UAAKI,OAAL,CAAaK,OAAb;;AAEA,UAAKC,QAAL,CAAc,MAAKN,OAAnB;;AAEA,UAAKO,KAAL;;AAX6C;AAY9C;;;;4BAEc;AACb,UAAIC,aAAMC,UAAN,CAAiB,KAAKT,OAAL,CAAaU,KAA9B,CAAJ,EAA0C;AACxC;AACD;;AAED,UAAMA,KAAK,GAAG,0BAAa;AAACC,QAAAA,KAAK,EAAE,CAAR;AAAWC,QAAAA,GAAG,EAAE,0BAAa;AAACD,UAAAA,KAAK,EAAEjB,SAAR;AAAmBkB,UAAAA,GAAG,EAAEnB;AAAxB,SAAb;AAAhB,OAAb,CAAd;AACA,UAAMoB,KAAK,GAAG,0BAAa;AAACF,QAAAA,KAAK,EAAE,CAAR;AAAWC,QAAAA,GAAG,EAAEpB;AAAhB,OAAb,CAAd;AAEA,WAAKsB,UAAL,GAAkBN,aAAMO,EAAN,CAChB,KAAKf,OAAL,CAAaU,KADG,EAEhBnB,cAFgB,EAGhB;AAACyB,QAAAA,CAAC,EAAEN,KAAJ;AAAWO,QAAAA,CAAC,EAAEP,KAAd;AAAqBQ,QAAAA,IAAI,EAAE,IAA3B;AAAiCC,QAAAA,MAAM,EAAE,CAAzC;AAA4CN,QAAAA,KAAK,EAALA;AAA5C,OAHgB,CAAlB;AAKD;;;4BAEc;AACb,UAAI,CAAC,KAAKC,UAAV,EAAsB;AACpB;AACD;;AAED,WAAKA,UAAL,CAAgBM,IAAhB;AACD;;;kCAYC;AAAA,UARExB,SAQF,SAREA,SAQF;AAAA,UAPEyB,QAOF,SAPEA,QAOF;AAAA,UANEC,MAMF,SANEA,MAMF;AAAA,UALEC,QAKF,SALEA,QAKF;AAAA,UAJEC,KAIF,SAJEA,KAIF;AAAA,0BAHER,CAGF;AAAA,UAHEA,CAGF,wBAHM,CAGN;AAAA,0BAFEC,CAEF;AAAA,UAFEA,CAEF,wBAFM,CAEN;AACA,WAAKD,CAAL,GAASA,CAAC,GAAGQ,KAAK,GAAG,CAArB;AACA,WAAKP,CAAL,GAASA,CAAC,GAAGK,MAAM,GAAG,CAAtB;AACA,WAAKC,QAAL,GAAgBA,QAAhB;AAEA,WAAKvB,OAAL,CAAagB,CAAb,GAAiBK,QAAjB;AAEA,WAAKrB,OAAL,CAAayB,KAAb;AACA,WAAKzB,OAAL,CAAaE,SAAb,CAAuB,KAAKC,KAA5B;AACA,WAAKH,OAAL,CAAaI,UAAb,CAAwB,CAAxB,EAA2B,CAA3B,EAA8BR,SAA9B;AACA,WAAKI,OAAL,CAAaK,OAAb;AACD;;;;;;;;;;EAhEkBP,YAAK4B,S;;eAmEX/B,M;;;;;;;;;;;;0BAxETJ,c;0BACAC,S;0BACAC,S;0BACAC,S;0BAEAC,M","sourcesContent":["import {PIXI, Tween} from '@/Component/WebGL';\nimport {RandomColor, RandomNumber} from '@/Helper';\nimport * as IPartial from './spec';\n\nconst SCALE_DURATION = 10;\nconst MAX_DELAY = 10;\nconst MAX_SCALE = 5;\nconst MIN_SCALE = 3;\n\nclass Circle extends PIXI.Container {\n  public readonly color: number = RandomColor().rgbNumber();\n  public graphic = new PIXI.Graphics();\n  \n  private scaleTween: Tween;\n  \n  constructor({dimension}: IPartial.CircleProps) {\n    super();\n    \n    this.graphic.name = 'graphic';\n    \n    this.graphic.beginFill(this.color);\n    this.graphic.drawCircle(0, 0, dimension);\n    this.graphic.endFill();\n    \n    this.addChild(this.graphic);\n    \n    this.tween();\n  }\n  \n  public tween() {\n    if (Tween.isTweening(this.graphic.scale)) {\n      return;\n    }\n    \n    const scale = RandomNumber({start: 0, end: RandomNumber({start: MIN_SCALE, end: MAX_SCALE})});\n    const delay = RandomNumber({start: 0, end: MAX_DELAY});\n    \n    this.scaleTween = Tween.to(\n      this.graphic.scale,\n      SCALE_DURATION,\n      {x: scale, y: scale, yoyo: true, repeat: 1, delay}\n    );\n  }\n  \n  public reset() {\n    if (!this.scaleTween) {\n      return;\n    }\n    \n    this.scaleTween.kill();\n  }\n  \n  public update(\n    {\n      dimension,\n      distance,\n      height,\n      rotation,\n      width,\n      x = 0,\n      y = 0\n    }: IPartial.CircleUpdateProps\n  ) {\n    this.x = x + width / 2;\n    this.y = y + height / 2;\n    this.rotation = rotation;\n    \n    this.graphic.x = distance;\n    \n    this.graphic.clear();\n    this.graphic.beginFill(this.color);\n    this.graphic.drawCircle(0, 0, dimension);\n    this.graphic.endFill();\n  }\n}\n\nexport default Circle;\n"]}