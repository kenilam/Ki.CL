main {
  &[data-routes="home"] {
    .logo {
      &[class*="#{$cssTransition}-"][class*="-active"] {
        transform-origin: top left;
        transition-property: background-color, opacity, transform;

        &::before {
          transition-property: transform;
        }
      }

      &.#{$cssTransitionEnter}:not(.#{$cssTransitionEnterActive}) {
        background-color: $black;
        transform: scale(7) translate3d(-50%, -50%, 0);

        &::before {
          transform: scale(0.5);
        }
      }

      &.#{$cssTransitionExit}.#{$cssTransitionExitActive} {
        opacity: 0;
        transform: scale(4) translate3d(-50%, -50%, 0);

        &::before {
          transform: scale(0.4);
        }
      }
    }

    > section {
      &[class*="#{$cssTransition}-"][class*="-active"] {
        transition-delay: $fast;
        transition-property: opacity, transform;
      }

      &.#{$cssTransitionEnter}:not(.#{$cssTransitionEnterActive}) {
        opacity: 0;
        transform: scale(1.5);
      }
    }
  }
}

body {
  &[data-entered-routes="home"],
  &[data-exited-routes="home"] {
    .#{$transition} {
      main {
        &[data-routes="home"] {
          z-index: 3;

          section h1,
          p,
          nav {
            transition-duration: $speed;
            transition-property: opacity, transform;
            transition-timing-function: $easeIn;
          }
        }

        &:not([data-routes="home"]) {
          &::after {
            background-color: rgba($black, 0.9);
            content: "\0020";
            display: block;
            height: 100%;
            left: 0;
            position: absolute;
            top: 0;
            transition-duration: $speed;
            transition-property: none;
            transition-timing-function: $easeIn;
            width: 100%;
            z-index: 99;
          }
        }
      }
    }
  }

  // When Entering
  &[data-entered-routes="home"] {
    main {
      &[data-routes="home"] {
        &.#{$cssTransitionEnter}:not(.#{$cssTransitionEnterActive}) {
          transform: translate3d(0, -110vh, 0) scale(1.2);

          section h1,
          p,
          nav {
            opacity: 0;
            transform: translate3d(0, 50vh, 0);
          }
        }
      }

      &:not([data-routes="home"]) {
        &.#{$cssTransitionExit}:not(.#{$cssTransitionExitActive}) {
          &::after {
            opacity: 0;
          }
        }

        &.#{$cssTransitionExitActive} {
          transform: translate3d(0, 70vh, 0);

          &::after {
            transition-property: opacity;
          }
        }
      }
    }
  }

  // When Exiting
  &[data-exited-routes="home"] {
    main {
      &[data-routes="home"] {
        position: relative;

        &.#{$cssTransitionExitActive} {
          transform: translate3d(0, -110vh, 0) scale(1.2);
          transition-delay: $fastest;

          section h1,
          p,
          nav {
            opacity: 0;
            transform: translate3d(0, 30vh, 0);
          }
        }
      }

      &:not([data-routes="home"]) {
        &.#{$cssTransitionEnter}:not(.#{$cssTransitionEnterActive}) {
          transform: translate3d(0, 70vh, 0);
        }

        &.#{$cssTransitionEnterActive}) {
          transition-delay: $fastest;

          &::after {
            opacity: 0;
            transition-delay: $faster;
            transition-property: opacity;
          }
        }
      }
    }
  }
}
