$className: "kicl-works-component-item";
$inViewClassName: "is-view";

$rootMargin: 20vh;
$itemSize: 100vh - ($rootMargin * 2);
$itemMinSize: 10rem;

$itemLinkSize: calc(100% - #{$grid});

$colorAlpha: 0.9;

$activeArea: (
  top: 30vh,
  bottom: 30vh
);

.#{$className} {
  display: grid;
  width: 100%;
  height: $itemSize;
  align-items: center;
  padding: 0 $grid;
  justify-items: center;

  figure {
    position: relative;
    overflow: hidden;
    width: 100%;
    max-width: $itemSize;
    border-radius: 50%;

    &::before {
      display: block;
      width: 100%;
      padding-bottom: 100%;
      content: "\0020";
    }

    img,
    figcaption,
    a {
      transform-origin: top left;
      transition-duration: $fast;
      transition-timing-function: $easeIn;
    }

    img,
    figcaption {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate3d(-50%, -50%, 0);
    }

    figcaption,
    a {
      display: grid;
      align-items: center;
      justify-items: center;
    }

    img {
      height: 100%;
      transition-property: filter, transform;
    }

    figcaption {
      width: 100%;
      height: 100%;
      background-color: rgba($black, $colorAlpha);
      transition-property: background-color, opacity, transform;
    }

    a {
      width: $itemLinkSize;
      height: $itemLinkSize;
      border: 3px solid $white;
      border-radius: 50%;
      color: $white;
      text-align: center;
      transition-property: border-color, border-width, color;
    }
  }

  &.#{$inViewClassName} {
    pointer-events: none;

    figcaption {
      opacity: 0;
      transform: scale(1.2) translate3d(-50%, -50%, 0);
    }
  }

  &:not(.#{$inViewClassName}) {
    figure {
      &:hover,
      &:focus {
        figcaption {
          background-color: rgba($white, $colorAlpha);
        }

        a {
          border-width: 10px;
          border-color: $black;
          color: $black;
        }
      }
    }

    img {
      transform: scale(1.2) translate3d(-50%, -50%, 0);
    }
  }
}

:export {
  classname: #{$className};
  inviewclassname: #{$inViewClassName};
  rootmargin: $rootMargin;
}
