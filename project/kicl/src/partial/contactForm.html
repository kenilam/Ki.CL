<form
	class="contactForm"
	name="contact"
	novalidate
	ng-submit="contactForm.control.submit()"
	ng-class="{
		'isLoading' : contactForm.loading
	}"
>
	<p>{{contactForm.message}}</p>
	<ul>
		<li ng-repeat="field in contactForm.field track by $index"
			ng-class="{
				'hasError' : contactForm.invalid[field.name]
			}"
		>
			<label
				ng-attr-for="{{field.name}}"
				ng-if="field.type !== 'radio'"
				ng-class="{
					'forTextarea' : field.type === 'textarea'
				}"
			>{{field.label}}</label>
			<input
				tabindex="1"
				ng-attr-id="{{field.name}}"
				ng-attr-name="{{field.name}}"
				ng-attr-type="{{field.type}}"
				ng-attr-placeholder="{{field.placeholder}}"
				ng-model="contactForm.model[field.name]"
				ng-required="field.required"
				ng-minlength="field.minLength"
				ng-maxlength="field.maxLength"
				ng-if="field.type === 'text' || field.type === 'email'"
			>
			<textarea
				tabindex="1"
				ng-attr-id="{{field.name}}"
				ng-attr-name="{{field.name}}"
				ng-attr-type="{{field.type}}"
				ng-attr-placeholder="{{field.placeholder}}"
				ng-attr-maxlength="{{field.maxLength + 1}}"
				ng-model="contactForm.model[field.name]"
				ng-minlength="field.minLength"
				ng-maxlength="field.maxLength"
				ng-required="field.required"
				ng-if="field.type === 'textarea'"
				ng-class="{
					'hasChar' : contact[field.name].$viewValue
				}"
			></textarea>
			<fieldset
				ng-if="field.type === 'radio'"
			>
				<legend>
					<span>{{field.label}}</span>
				</legend>
				<ul>
					<li ng-repeat="set in field.set track by $index">
						<label
							ng-attr-for="{{set.name}}"
							ng-class="{
								'forRadio' : field.type === 'radio'
							}"
						>{{set.label}}</label>
						<input
							tabindex="1"
							ng-attr-id="{{set.name}}"
							ng-attr-name="{{field.name}}"
							ng-attr-value="{{set.value}}"
							ng-attr-type="{{field.type}}"
							ng-model="contactForm.model[field.name]"
						>
					<li>
				</ul>
			</fieldset>
			<span class="required fa"
				ng-if="field.required"
				ng-class="{
					'fa-exclamation-circle' : !contact[field.name].$valid,
					'isValid fa-check' : contact[field.name].$valid
				}"
			>required</span>
			<p
				class="charCount"
				ng-if="field.type === 'textarea' && contact[field.name].$viewValue"
			><span>{{contact[field.name].$viewValue.length}} / {{field.maxLength}}</span></p>
		</li>
	</ul>
	<button
		type="submit"
		class="fa"
		tabindex="1"
		ng-disabled="contact.$invalid || contactForm.loading"
		ng-class="{
			'fa-paper-plane-o' : !contactForm.loading,
			'isLoading fa-spin fa-circle-o-notch' : contactForm.loading
		}"
	>{{contactForm.loading ? contactForm.button.loading.name : contactForm.button.submit.name}}</button>
	<button
		type="reset"
		class="fa fa-undo"
		tabindex="1"
		ng-click="contactForm.control.reset($event)"
	>{{contactForm.button.reset.name}}</button>
</form>
