@import '_import';

.ng-enter,
.ng-leave {
	@include through();
}

html {
	$overlay-color: $white;
	$overlay-opacity: 0;
	$background-scale: 100%;

	$hasBackdrop-overlay-opacity: .8;

	$hasBehanceProjectSlideshow-overlay-background-color: $black;
	
	background-image: url(#{$transparent_base64});
	background-position: center;
	background-repeat: no-repeat;
	background-size: cover;

	@include mobile () {
		@include set-transition(background-color);
	}

	&:before {
		@include set-transition(background-color, opacity);

		@include opacity($overlay-opacity);

		background-color: $overlay-color;
		content: '\0020';
		display: block;
		height: 100%;
		position: fixed;
		top: 0;
		width: 100%;
		z-index: 0;
	}

	&.hasBackdrop {
		&:before {
			@include opacity($hasBackdrop-overlay-opacity);
		}
	}

	&.hasBehanceProjectSlideshow {
		overflow: hidden;
		
		&:before {
			background-color: $hasBehanceProjectSlideshow-overlay-background-color;
			z-index: 10;
		}
	}
}

.breadcrumb {
	&.isScrolled {
		@include box-shadow($shadow-center);

		background-color: $white;
	}
}

main {
	@include set-transition(padding-top, opacity, transform);

	&.ng-enter,
	&.ng-leave {
		@include through();
		
		width: 100%;

		+ .globalFooter {
			@include opacity(0);
		}
	}

	&.ng-enter {
		@include transform(translate3d(100%, 0, 0));

		@include opacity(0);
		
		z-index: 1;

		@include mobile() {
			@include transform(translate3d(0, 0, 0));
		}

		&.ng-enter-active {
			@include transform(translate3d(0, 0, 0));

			@include opacity(1);
		}
	}

	&.ng-leave {
		@include transform(translate3d(0, 0, 0));

		@include opacity(1);

		z-index: 2;

		&.ng-leave-active {
			@include transform(translate3d(-100%, 0, 0));

			@include opacity(0);

			@include mobile() {
				@include transform(translate3d(0, 0, 0));
			}
		}
	}
}

.globalFooter {
	@include set-transition(box-shadow, opacity, transform);

	@include transform(translate3d(0, 100%, 0));

	@include largemobile() {
		@include transform(translate3d(0, 0, 0));
	}

	.logo {
		@include set-transition(opacity, transform);
		@include transition-delay($fast);

		@include opacity(0);
		@include transform(translate3d(-100%, 0, 0));

		@include largemobile() {
			width: 0;
		}
	}

	p {
		@include largemobile() {
			width: 100%;
		}
	}

	&.isScrolled {
		@include transform(translate3d(0, 0, 0));

		@include box-shadow($shadow-top);

		.logo {
			@include opacity(1);
			@include transform(translate3d(0, 0, 0));
		}
	}
}