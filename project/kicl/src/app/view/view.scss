@import '_import';

.ng-enter,
.ng-leave {
	@include through();
}

html {
	$overlay-color: $white;
	$overlay-opacity: .8;

	@include set-transition(background-image);

	background: center no-repeat;
	background-size: cover;

	&:before {
		@include set-transition(background-color, opacity);

		@include opacity($overlay-opacity);

		background-color: $overlay-color;
		content: '\0020';
		display: block;
		height: 100%;
		position: fixed;
		top: 0;
		width: 100%;
		z-index: 0;
	}
}

main {
	@include set-transition(padding-top);

	&.ng-enter,
	&.ng-leave {
		@include set-transition(opacity, transform);

		@include through();

		position: absolute;

		+ .globalFooter {
			@include opacity(0);
		}
	}

	&.ng-enter {
		@include transform(translate3d(100%, 0, 0));
		
		z-index: 1;

		@include mobile() {
			@include transform(translate3d(0, 0, 0));
			@include opacity(0);
		}

		&.ng-enter-active {
			@include transform(translate3d(0, 0, 0));

			@include mobile() {
				@include opacity(1);
			}
		}
	}

	&.ng-leave {
		@include transform(translate3d(0, 0, 0));

		z-index: 2;

		@include mobile() {
			@include opacity(1);
		}

		&.ng-leave-active {
			@include transform(translate3d(-100%, 0, 0));

			@include mobile() {
				@include transform(translate3d(0, 0, 0));
				@include opacity(0);
			}
		}
	}
}

.globalFooter {
	@include set-transition(opacity);
}