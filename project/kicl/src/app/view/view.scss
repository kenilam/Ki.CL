@import '_import';

.ng-enter,
.ng-leave {
	@include through();
}

html {
	$overlay-color: $white;
	$overlay-opacity: .5;

	@include set-transition(background-color, background-size);
	
	background-image: url(#{$transparent_base64});
	background-position: center;
	background-repeat: no-repeat;
	background-size: 100% auto;

	&:before {
		@include set-transition(background-color, opacity);

		@include opacity($overlay-opacity);

		background-color: $overlay-color;
		content: '\0020';
		display: block;
		height: 100%;
		position: fixed;
		top: 0;
		width: 100%;
		z-index: 0;
	}

	&.hasBackdrop {
		background-size: 200% auto;
	}
}

main {
	@include set-transition(padding-top);

	&.ng-enter,
	&.ng-leave {
		@include set-transition(opacity, transform);

		@include through();

		position: absolute;
		width: 100%;

		+ .globalFooter {
			@include opacity(0);
		}
	}

	&.ng-enter {
		@include transform(translate3d(100%, 0, 0));

		@include opacity(0);
		
		z-index: 1;

		@include mobile() {
			@include transform(translate3d(0, 0, 0));
		}

		&.ng-enter-active {
			@include transform(translate3d(0, 0, 0));

			@include opacity(1);
		}
	}

	&.ng-leave {
		@include transform(translate3d(0, 0, 0));

		@include opacity(1);

		z-index: 2;

		&.ng-leave-active {
			@include transform(translate3d(-100%, 0, 0));

			@include opacity(0);

			@include mobile() {
				@include transform(translate3d(0, 0, 0));
			}
		}
	}
}

.globalFooter {
	@include set-transition(opacity);
}