@import '_import';

[data-route^=projects] {
	.globalHeader {
		padding: rem($gutter);

		@include mobile() {
			padding: 0;
		}
	}
}

main {
	&[data-route^=projects] {
		@include display(flex);
		@include flex-direction(column);

		overflow-x: hidden;
		
		> h1 {
			position: absolute;
			text-align: center;
			width: 100%;
			z-index: 2;
		}

		.projectsWrapper {
			@include set-transition(background-color, border-radius, transform);

			@include display(flex);
			@include align-items(center);
			@include justify-content(center);

			@include order(1);

			@include transform(translate3d(rem($gutter), rem($gutter), 0));

			border-radius: rem(5);
			height: calc(100vh - #{rem($gutter * 2)});
			width: calc(100% - #{rem($gutter * 2)});

			@include mobile () {
				@include set-transition(border-radius, transform);
				@include transform(translate3d(0, 0, 0));

				border-radius: 0;
				height: 100vh;
				min-height: 100%;
				width: 100%;
			}
		}

		[ui-view=project] {
			@include order(2);

			margin-top: rem($gutter * 2);
			padding-bottom: rem($gutter * 2);

			@include mobile () {
				padding-bottom: rem($gutter);
			}
		}

		[data-api='behance.projects'] {
			@include set-transition(width);
			@include display(flex);

			height: 100%;
			position: relative;
			width: 25%;

			@include desktop () {
				width: 50%;
			}

			li {
				@include display(flex);
				@include align-items(center);
				@include justify-content(center);

				@include opacity(1);

				height: 100%;
				min-width: 100%;
				z-index: 1;
			}

			figure {
				@include display(flex);
				@include flex-direction(column);
				@include align-items(center);
				@include justify-content(center);

				height: 100%;
				position: relative;
				width: 100%;
			}

			a {
				@include set-transition(background-color, border-width, transform);
				@include transition-duration($faster);
				@include transition-timing-function($ease-out-back);

				@include circle(grid-size(4));

				background-color: $white;
				background-position: center;
				background-repeat: no-repeat;
				background-size: cover;
				border: 0px solid $white;
				position: relative;

				&:after {
					@include set-transition(opacity);

					@include opacity(0);

					@include through();

					background-color: $white;
					content: '\0020';
					display: block;
					height: 100%;
					left: 0;
					position: absolute;
					top: 0;
					width: 100%;
				}

				@include tablet () {
					@include circle(grid-size(3));
				}

				@include largemobile () {
					@include transition-timing-function($ease-out-expo);
				}
			}

			figcaption {
				@include set-transition(opacity);
				@include transition-duration($fast);
				@include transition-timing-function($ease-in-expo);

				@include transform(translate3d(0, calc((-1 * #{grid-size(4)}) - 100% - #{rem($gutter)}), 0));

				@include through();
				
				position: absolute;
				left: 0;
				text-align: center;
				width: 100%;

				p {
					margin: 0 auto;
					width: 80%;

					@include largemobile () {
						width: 100%;
					}
				}

				@include tablet () {
					@include transform(translate3d(0, calc((-1 * #{grid-size(3)}) - 100% - #{rem($gutter)}), 0));
				}
				
				@include largemobile() {
					@include unset-transition();
				}
			}

			img {
				@include hidden();
			}

			.isCurrent,
			.isPrev,
			.isNext {
				@include opacity(1);
			}

			.isPrev,
			.isNext {
				cursor: pointer;

				a {
					@include transform(scale3d(.7, .7, .7));

					@include through();

					border-width: rem($gutter * 1.53);

					&:after {
						@include opacity(1);
					}

					@include mobile () {
						@include transform(scale3d(.2, .2, .2));
					}
				}

				figcaption {
					@include opacity(0);
				}

				&:hover {
					a {
						@include transform(scale3d(.9, .9, .9));

						border-width: rem($gutter * 1.11);

						&:after {
							@include opacity(0.8);
						}

						@include mobile () {
							@include transform(scale3d(.2, .2, .2));
						}
					}
				}
			}

			.isCurrent {
				@include unthrough();

				z-index: 2;
			}
		}

		.behanceProjectThrobber {
			@include set-font-size(2);

			color: $white;
			margin-top: grid-size(2.5);
			position: absolute;
			z-index: 2;
		}

		+ .globalFooter {
			padding-bottom: rem($gutter * 2);

			@include mobile () {
				padding-bottom: rem($gutter);
			}
		}
	}
}