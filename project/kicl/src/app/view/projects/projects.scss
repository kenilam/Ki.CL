@import '_import';

$enter-main-background-color: $white;

$overlay-color: transparent;
$overlay-opacity: 0;

$backdrop-overlay-color: $white;
$backdrop-overlay-opacity: .6;

$square-opacity: .6;

html {
	&[data-route^=projects] {
		background-attachment: fixed;
	}
}

main {
	&[data-route^=projects] {
		@include display(flex);
		@include flex-direction(column);
		@include align-items(center);

		margin: 0 auto;

		:not(.ng-enter) {
			max-width: grid-size($desktop-size);
		}

		h1 {
			@include set-font-size(1.5);

			margin-top: rem($gutter);
		}

		[data-api="behance.projects"] {
			@include set-transition(transform);

			-webkit-perspective: 500px;
		    -moz-perspective: 500px;
		    -ms-perspective: 500px;
		    -o-perspective: 500px;
			perspective: 500px;

			-webkit-transform-style: preserve-3d;
			transform-style: preserve-3d;

			width: 100%;

			&.isShadow {
				@include box-shadow(none);
				@include through();

				@include opacity(.3);

				left: 50%;
				position: absolute;

				li {
					background-color: $pitch-black;
				}

				figure {
					@include hidden();
				}
			}
		}

		&.ng-enter,
		&.ng-leave {
			h1,
			[data-api="behance.projects"],
			[data-api="behance.projects"] li {
				@include set-transition(transform);
			}

			[data-api="behance.projects"] li {
				@include transition-delay($speed);
			}
		}

		&.ng-enter {
			h1,
			[data-api="behance.projects"] {
				@include transform(translate3d(100%, 0, 0));
			}
			
			[data-api="behance.projects"] {
				li {
					@include transform(translate3d(500%, 0, 0));

					&:nth-child(even) {
						@include transform(translate3d(700%, 0, 0));
					}
				}
			}

			&.ng-enter-active {
				h1,
				[data-api="behance.projects"] {
					@include transform(translate3d(0, 0, 0));
				}
				
				[data-api="behance.projects"] {
					li {
						@include transform(translate3d(0, 0, 0));

						&:nth-child(even) {
							@include transform(translate3d(0, 0, 0));
						}
					}
				}
			}
		}

		&.ng-leave {
			h1,
			[data-api="behance.projects"] {
				@include transform(translate3d(0, 0, 0));
			}
			
			[data-api="behance.projects"] {
				li {
					@include transform(translate3d(0, 0, 0));

					&:nth-child(even) {
						@include transform(translate3d(0, 0, 0));
					}
				}
			}

			&.ng-leave-active {
				h1,
				[data-api="behance.projects"] {
					@include transform(translate3d(-100%, 0, 0));
				}

				[data-api="behance.projects"] {
					li {
						@include transform(translate3d(-700%, 0, 0));

						&:nth-child(even) {
							@include transform(translate3d(-500%, 0, 0));
						}
					}
				}
			}
		}
	}
}
