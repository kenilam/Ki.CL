@import '_import';

[data-api="behance.projects"] {
	$thumbnail-size: grid-size(3);
	$thumbnail-size-active: grid-size(3);

	$thumbnail-mobile-size: grid-size(3);
	$thumbnail-mobile-size-active: grid-size(3);

	$overlay-color: $white;
	$overlay-text-color: $black;
	$overlay-opacity: .6;
	$mobile-overlay-opacity: .8;
	$overlay-scale: .8;

	@include display(flex);
	@include align-items(center);
	@include justify-content(center);
	@include flex-wrap(wrap);

	@mixin set-figure-active () {
		@include circle($thumbnail-size-active);

		border-color: $black;

		@include mobile () {
			@include circle($thumbnail-mobile-size-active);
		}

		a {
			@include opacity(0);

			@include mobile () {
				@include opacity(1);
			}
		}

		figcaption {
			@include opacity(1);

			p {
				@include transform(
					translate3d(0, 0, 0)
					scale3d(1, 1, 1)
				)
			}
		}
	}

	max-width: ($thumbnail-size * 2) + rem($gutter * 4) + rem($space * 2);
	margin: 0 auto;
	padding: rem($space);

	a,
	figcaption {
		height: 100%;
		left: 0;
		position: absolute;
		top: 0;
		width: 100%;
	}

	li {
		@include display(flex);
		@include align-items(stretch);

		margin: rem($gutter);

		&.isCurrent {
			figure {
				@include set-figure-active();
			}
		}
	}

	figure {
		@include set-transition(border-color);

		border: 1px dashed transparent;
		position: relative;
		width: 100%;

		@include circle($thumbnail-size);
		@include mobile () {
			@include circle($thumbnail-mobile-size);
		}

		figcaption {
			@include opacity(0);

			p {
				@include transform(
					translate3d(0, 100%, 0)
					scale3d($overlay-scale, $overlay-scale, $overlay-scale)
				)
			}
		}

		&:hover {
			@include set-figure-active();
		}

		@include mobile () {
			@include set-figure-active();
		}
	}

	a,
	figcaption {
		@include set-transition(opacity);
	}

	a {
		background-position: center;
		z-index: 1;
	}

	img {
		@include opacity(0);
	}

	figcaption {
		@include display(flex);
		@include flex-direction(column);
		@include align-items(cenetr);
		@include justify-content(center);

		@include through();

		background-color: rgba(red($overlay-color), green($overlay-color), blue($overlay-color), $overlay-opacity);
		color: $overlay-text-color;
		font-weight: $heading_font_weight;
		padding: rem($space);
		text-align: center;
		z-index: 2;

		@include mobile () {
			background-color: rgba(red($overlay-color), green($overlay-color), blue($overlay-color), $mobile-overlay-opacity);
		}

		p {
			@include set-transition(transform);
			@include transition-duration($fast)

			+ p {
				margin-top: rem($space);

				@include mobile () {
					margin-top: 0;
				}
			}
		}
	}

	.published_on {
		@include set-font-size(.9);
	}
}