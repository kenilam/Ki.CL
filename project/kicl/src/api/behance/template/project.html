<article
	data-api="behance.project"
	ng-attr-id="{{project.id}}"
	ng-if="project.owners[0].username === resource.userName"
	ng-class="{
		'isLoading' : project.loading
	}"
>
	<header>
		<h3>{{project.name}}</h3>
		<i
			ng-style="{
				'background-image' : 'url(' + project.covers[resource.config.covers.size] + ')'
			}"
		></i>
		<p>{{resource.config.content.label.published_on}} <time datetime="{{project.published_on}}">{{$root.helper.moment(project.published_on).fromNow()}}</time></p>
		<ul class="fields">
			<li ng-repeat="field in project.fields track by $index">{{field}}</li>
		</ul>
	</header>

	<div>
		<p
			ng-repeat-start="module in project.modules"
			ng-if="module.type === 'text' && module.text_plain !== ''"
			ng-bind-html="module.text_plain"></p>
		<p
			class="img"
			ng-repeat-end
			ng-if="module.type === 'image'"
			ng-style="{
				'background-image' : 'url(' + module.sizes[resource.config.module.image.size] + ')'
			}"
		><img ng-src="{{module.sizes[resource.config.module.image.size] || module.src}}"></p>
	</div>

	<aside>
		<ul class="stats">
			<li ng-repeat="(key, stat) in project.stats track by $index"><span>{{stat}}</span> {{key}}</li>
		</ul>
		<ul class="tags">
			<li ng-repeat="tag in project.tags track by $index">{{tag}}</li>
		</ul>
	</aside>

	<footer>
		<ul class="tool">
			<li class="link">
				<a
					class="fa fa-external-link"
					target="_blank"
					ng-href="{{project.url}}"
					ng-attr-title="{{resource.content.link.message}}"
				>{{resource.content.link.message}}</a>
			</li>
			<li class="close">
				<button
					class="fa fa-times-circle"
					ng-attr-title="{{resource.content.close.message}}"
					ng-click="project.control.close()"
				>{{resource.content.closeButton.message}}</button>
			</li>
		</ul>
	</footer>
</article>
